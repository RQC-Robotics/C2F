### Coarse-to-Fine Q-attention


Перед любым запуском нужно проверить, что ngrok запущен. Хост и порт нужно проверить в файле ARM/arm/env_client.py (строки №30 и №31)

В файле ARM/conf/config.yaml можно выставить папку с демонстрациями, а также настроить сцену и процесс логирования.






### Запуск готовых весов

##### На локальном компьютере

cd ~/UR5/C2FARM/albert

1. Выбрать task в файле server_robot_env.py (отредактировать строку №93)

2. Запустить робота 

python server_c2farm.py


##### На удаленном сервере

cd ~/ARM
1. Запустить виртуальный дисплей

Xvfb :98 -screen 0 1024x768x24 +extension GLX +render -noreset &

2. Прописать путь до папки с готовыми весами в файле tools/run_agent.py ('.../.../.../weights/')

3. Запустить файл

python tools/run.py



### Запуск обучения робота

##### На локальном компьютере

cd ~/UR5/C2FARM/albert

1. Выбрать task в файле server_robot_env.py (отредактировать строку №93)

2. Запустить робота

python server_c2farm.py


##### На удаленном сервере

cd ~/ARM
1. Запустить виртуальный дисплей

Xvfb :98 -screen 0 1024x768x24 +extension GLX +render -noreset &

2. В файле ARM/arm/env_client.py написать путь (строка №45)до папки с демонстрациями (не нужно проваливаться до конца внутрь директории, нужно выбрать только заглавную папку)

3. Перейти в папку ARM и запустить launch.py (ВАЖНО! Указать актуальный путь до демонстраций)

cd ~/ARM

python launch.py method=C2FARM rlbench.task=take_lid_off_saucepan rlbench.demo_path=/ПОЛНЫЙ/ПУТЬ/ДО/ФАЙЛА/ framework.gpu=0

В файле стоят несколько технических breakpoints(), их нужно просто пропустить (continue).

P.S. Возможна ситуация, когда демонстрации будут загружаться довольно долго в первый раз. Это нормально, главное дождаться до конца. 



